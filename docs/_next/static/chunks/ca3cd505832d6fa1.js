(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18267,e=>{e.v("/company-review-listing/_next/static/media/empty-box.70e929a2.png")},62006,e=>{e.v("/company-review-listing/_next/static/media/error.47385b28.png")},4287,e=>{"use strict";let t,s,n,r,a;var o=e.i(43476),i=e.i(71645);e.i(85269);var l=e.i(22831),c=e.i(27217);let d=({type:e,selected:t,onChange:s,options:n,placeholder:r="Type to search..."})=>{let{t:a}=(0,l.useTranslation)(),[d,u]=(0,i.useState)(""),[p,m]=(0,i.useState)([]),[f,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{d.trim()?m(n.filter(e=>e.toLowerCase().includes(d.toLowerCase())).filter(e=>!t.includes(e))):m([])},[d,t,n]),(0,i.useEffect)(()=>{f&&window.dispatchEvent(new CustomEvent("filter-dropdown-open",{detail:e}))},[f,e]),(0,i.useEffect)(()=>{let t=t=>{t.detail!==e&&h(!1)};return window.addEventListener("filter-dropdown-open",t),()=>window.removeEventListener("filter-dropdown-open",t)},[e]),(0,i.useEffect)(()=>{let e=e=>{e.target.closest(".filter-box")||h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,o.jsxs)("div",{className:"w-full filter-box",children:[(0,o.jsx)("label",{className:"mb-1 block text-[var(--text-primary-color)]",children:a(`company-page.filter.${e}`)}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(e=>(0,o.jsxs)("span",{className:"flex items-center gap-1 bg-[var(--primary-100)] text-[var(--primary-700)] px-3 py-1 rounded-full text-sm",children:[e,(0,o.jsx)("button",{onClick:()=>{s(t.filter(t=>t!==e))},children:(0,o.jsx)(c.XMarkIcon,{className:"w-3 h-3 cursor-pointer"})})]},e))}),(0,o.jsxs)("div",{className:"relative w-full",children:[(0,o.jsx)("input",{value:d,onChange:e=>{u(e.target.value),h(!0)},onFocus:()=>h(!0),placeholder:r,className:"w-full rounded-lg border border-zinc-300 px-3 py-2 text-[var(--text-primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-300)]"}),f&&p.length>0&&(0,o.jsx)("div",{className:"absolute top-full left-0 w-full border border-zinc-300 mt-1 rounded-md bg-white max-h-40 overflow-y-auto shadow-md z-20",children:p.map(e=>(0,o.jsx)("div",{onClick:()=>{s([...t,e]),u(""),h(!1)},className:"px-3 py-2 cursor-pointer text-sm text-[var(--text-primary-color)] hover:bg-[var(--primary-100)]",children:e},e))})]})]})};var u=e.i(32726),p=e.i(29427),m=e.i(71330),f=e.i(74080),h=e.i(94487),x=e.i(14189),v=e.i(46725),g=e.i(92704),b=e.i(88374),y=e.i(84653),w=e.i(35696),S=e.i(41444),A=e.i(77891),j=e.i(52744),N=e.i(5083),E=e.i(57138),O=e.i(44279),C=e.i(1852),R=e.i(55743),I=e.i(94316),P=e.i(49578),k=e.i(71616),F=e.i(83733),L=e.i(1893),T=e.i(19751);function M(e,t){return e?e+"["+t+"]":t}var D=e.i(20),B=((t=B||{})[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t);let z=(0,D.forwardRefWithAs)(function(e,t){var s;let{features:n=1,...r}=e,a={ref:t,"aria-hidden":(2&n)==2||(null!=(s=r["aria-hidden"])?s:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,D.useRender)()({ourProps:a,theirProps:r,slot:{},defaultTag:"span",name:"Hidden"})}),V=(0,i.createContext)(null);function K({children:e}){let t=(0,i.useContext)(V);if(!t)return i.default.createElement(i.default.Fragment,null,e);let{target:s}=t;return s?(0,f.createPortal)(i.default.createElement(i.default.Fragment,null,e),s):null}function U({data:e,form:t,disabled:s,onReset:n,overrides:r}){let[a,o]=(0,i.useState)(null),l=(0,v.useDisposables)();return(0,i.useEffect)(()=>{if(n&&a)return l.addEventListener(a,"reset",n)},[a,t,n]),i.default.createElement(K,null,i.default.createElement(H,{setForm:o,formId:t}),(function e(t={},s=null,n=[]){for(let[r,a]of Object.entries(t))!function t(s,n,r){if(Array.isArray(r))for(let[e,a]of r.entries())t(s,M(n,e.toString()),a);else r instanceof Date?s.push([n,r.toISOString()]):"boolean"==typeof r?s.push([n,r?"1":"0"]):"string"==typeof r?s.push([n,r]):"number"==typeof r?s.push([n,`${r}`]):null==r?s.push([n,""]):function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}(r)&&!(0,i.isValidElement)(r)&&e(r,n,s)}(n,M(s,r),a);return n})(e).map(([e,n])=>i.default.createElement(z,{features:B.Hidden,...(0,D.compact)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:s,name:e,value:n,...r})})))}function H({setForm:e,formId:t}){return(0,i.useEffect)(()=>{if(t){let s=document.getElementById(t);s&&e(s)}},[e,t]),t?null:i.default.createElement(z,{features:B.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let s=t.closest("form");s&&e(s)}})}function Q(e,t){let[s,n]=(0,i.useState)(t);return e||s===t||n(t),e?s:t}i.default.forwardRef(function({children:e,freeze:t},s){let n=Q(t,e);return(0,i.isValidElement)(n)?(0,i.cloneElement)(n,{ref:s}):i.default.createElement(i.default.Fragment,null,n)});var _=e.i(42803),$=e.i(33137),W=e.i(41650),G=e.i(40407),q=e.i(65659),Y=e.i(44508),Z=e.i(13581),X=e.i(52265),J=e.i(97701),ee=e.i(2155),et=e.i(35889),es=e.i(98348),en=e.i(22678),er=e.i(35307),ea=e.i(25720),eo=e.i(67310),ei=Object.defineProperty,el=(e,t,s)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ei(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,s},ec=((s=ec||{})[s.Open=0]="Open",s[s.Closed=1]="Closed",s),ed=((n=ed||{})[n.Single=0]="Single",n[n.Multi=1]="Multi",n),eu=((r=eu||{})[r.Pointer=0]="Pointer",r[r.Other=1]="Other",r),ep=((a=ep||{})[a.OpenListbox=0]="OpenListbox",a[a.CloseListbox=1]="CloseListbox",a[a.GoToOption=2]="GoToOption",a[a.Search=3]="Search",a[a.ClearSearch=4]="ClearSearch",a[a.SelectOption=5]="SelectOption",a[a.RegisterOptions=6]="RegisterOptions",a[a.UnregisterOptions=7]="UnregisterOptions",a[a.SetButtonElement=8]="SetButtonElement",a[a.SetOptionsElement=9]="SetOptionsElement",a[a.SortOptions=10]="SortOptions",a[a.MarkButtonAsMoved=11]="MarkButtonAsMoved",a);function em(e,t=e=>e){let s=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=(0,X.sortByDomNode)(t(e.options.slice()),e=>e.dataRef.current.domRef.current),r=s?n.indexOf(s):null;return -1===r&&(r=null),{options:n,activeOptionIndex:r}}let ef={1(e){if(e.dataRef.current.disabled||1===e.listboxState)return e;let t=e.buttonElement?eo.ElementPositionState.Tracked((0,eo.computeVisualPosition)(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:q.Focus.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:t}},0(e,t){if(e.dataRef.current.disabled||0===e.listboxState)return e;let s=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(e=>n(e.dataRef.current.value));return -1!==r&&(s=r),{...e,frozenValue:!1,pendingFocus:t.focus,listboxState:0,activeOptionIndex:s,__demoMode:!1,buttonPositionState:eo.ElementPositionState.Idle}},2(e,t){var s,n,r,a,o;if(e.dataRef.current.disabled||1===e.listboxState)return e;let i={...e,searchQuery:"",activationTrigger:null!=(s=t.trigger)?s:1,__demoMode:!1};if(t.focus===q.Focus.Nothing)return{...i,activeOptionIndex:null};if(t.focus===q.Focus.Specific)return{...i,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(t.focus===q.Focus.Previous){let s=e.activeOptionIndex;if(null!==s){let a=e.options[s].dataRef.current.domRef,o=(0,q.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==o){let t=e.options[o].dataRef.current.domRef;if((null==(n=a.current)?void 0:n.previousElementSibling)===t.current||(null==(r=t.current)?void 0:r.previousElementSibling)===null)return{...i,activeOptionIndex:o}}}}else if(t.focus===q.Focus.Next){let s=e.activeOptionIndex;if(null!==s){let n=e.options[s].dataRef.current.domRef,r=(0,q.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==r){let t=e.options[r].dataRef.current.domRef;if((null==(a=n.current)?void 0:a.nextElementSibling)===t.current||(null==(o=t.current)?void 0:o.nextElementSibling)===null)return{...i,activeOptionIndex:r}}}}let l=em(e),c=(0,q.calculateActiveIndex)(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...i,...l,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let s=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),r=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+s).concat(e.options.slice(0,e.activeOptionIndex+s)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}),a=r?e.options.indexOf(r):-1;return -1===a||a===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:e=>0===e.dataRef.current.mode?{...e,frozenValue:!0}:{...e},6:(e,t)=>{let s=e.options.concat(t.options),n=e.activeOptionIndex;if(e.pendingFocus.focus!==q.Focus.Nothing&&(n=(0,q.calculateActiveIndex)(e.pendingFocus,{resolveItems:()=>s,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),null===e.activeOptionIndex){let{isSelected:t}=e.dataRef.current;if(t){let e=s.findIndex(e=>null==t?void 0:t(e.dataRef.current.value));-1!==e&&(n=e)}}return{...e,options:s,activeOptionIndex:n,pendingFocus:{focus:q.Focus.Nothing},pendingShouldSort:!0}},7:(e,t)=>{let s=e.options,n=[],r=new Set(t.options);for(let[e,t]of s.entries())if(r.has(t.id)&&(n.push(e),r.delete(t.id),0===r.size))break;if(n.length>0)for(let e of(s=s.slice(),n.reverse()))s.splice(e,1);return{...e,options:s,activationTrigger:1}},8:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},9:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},10:e=>e.pendingShouldSort?{...e,...em(e),pendingShouldSort:!1}:e,11:e=>"Tracked"!==e.buttonPositionState.kind?e:{...e,buttonPositionState:eo.ElementPositionState.Moved}};class eh extends ea.Machine{constructor(e){super(e),el(this,"actions",{onChange:e=>{let{onChange:t,compare:s,mode:n,value:r}=this.state.dataRef.current;return(0,J.match)(n,{0:()=>null==t?void 0:t(e),1:()=>{let n=r.slice(),a=n.findIndex(t=>s(t,e));return -1===a?n.push(e):n.splice(a,1),null==t?void 0:t(n)}})},registerOption:(0,ea.batch)(()=>{let e=[],t=new Set;return[(s,n)=>{t.has(n)||(t.add(n),e.push({id:s,dataRef:n}))},()=>(t.clear(),this.send({type:6,options:e.splice(0)}))]}),unregisterOption:(0,ea.batch)(()=>{let e=[];return[t=>e.push(t),()=>{this.send({type:7,options:e.splice(0)})}]}),goToOption:(0,ea.batch)(()=>{let e=null;return[(t,s)=>{e={type:2,...t,trigger:s}},()=>e&&this.send(e)]}),closeListbox:()=>{this.send({type:1})},openListbox:e=>{this.send({type:0,focus:e})},selectActiveOption:()=>{var e;if(null!==this.state.activeOptionIndex){let{dataRef:e}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(e.current.value)}else 0===this.state.dataRef.current.mode&&(this.actions.closeListbox(),null==(e=this.state.buttonElement)||e.focus({preventScroll:!0}))},selectOption:e=>{this.send({type:5,value:e})},search:e=>{this.send({type:3,value:e})},clearSearch:()=>{this.send({type:4})},setButtonElement:e=>{this.send({type:8,element:e})},setOptionsElement:e=>{this.send({type:9,element:e})}}),el(this,"selectors",{activeDescendantId(e){var t;let s=e.activeOptionIndex,n=e.options;return null===s||null==(t=n[s])?void 0:t.id},isActive(e,t){var s;let n=e.activeOptionIndex,r=e.options;return null!==n&&(null==(s=r[n])?void 0:s.id)===t},hasFrozenValue:e=>e.frozenValue,shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.listboxState&&0!==e.activationTrigger&&this.isActive(e,t)},didButtonMove:e=>"Moved"===e.buttonPositionState.kind}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let e=this.state.id,t=W.stackMachines.get(null);this.disposables.add(t.on(W.ActionTypes.Push,s=>{t.selectors.isTop(s,e)||0!==this.state.listboxState||this.actions.closeListbox()})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}this.disposables.group(e=>{this.on(1,t=>{t.buttonElement&&(e.dispose(),e.add((0,eo.detectMovement)(t.buttonElement,t.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(e,t)=>{var s;this.actions.onChange(t.value),0===this.state.dataRef.current.mode&&(this.actions.closeListbox(),null==(s=this.state.buttonElement)||s.focus({preventScroll:!0}))})}static new({id:e,__demoMode:t=!1}){return new eh({id:e,dataRef:{current:{}},listboxState:+!t,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:q.Focus.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:eo.ElementPositionState.Idle})}reduce(e,t){return(0,J.match)(t.type,ef,e,t)}}var ex=e.i(26599);let ev=(0,i.createContext)(null);function eg(e){let t=(0,i.useContext)(ev);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,eb),t}return t}function eb({id:e,__demoMode:t=!1}){let s=(0,i.useMemo)(()=>eh.new({id:e,__demoMode:t}),[]);return(0,ex.useOnUnmount)(()=>s.dispose()),s}let ey=(0,i.createContext)(null);function ew(e){let t=(0,i.useContext)(ey);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ew),t}return t}ey.displayName="ListboxDataContext";let eS=i.Fragment,eA=(0,i.createContext)(!1),ej=D.RenderFeatures.RenderStrategy|D.RenderFeatures.Static,eN=i.Fragment,eE=(0,D.forwardRefWithAs)(function(e,t){let s=(0,i.useId)(),n=(0,L.useDisabled)(),{value:r,defaultValue:a,form:o,name:l,onChange:c,by:d,invalid:u=!1,disabled:p=n||!1,horizontal:m=!1,multiple:h=!1,__demoMode:v=!1,...g}=e,b=(0,I.useSyncRefs)(t),y=function(e){let[t]=(0,i.useState)(e);return t}(a),[S=h?[]:void 0,A]=function(e,t,s){let[n,r]=(0,i.useState)(s),a=void 0!==e,o=(0,i.useRef)(a),l=(0,i.useRef)(!1),c=(0,i.useRef)(!1);return!a||o.current||l.current?a||!o.current||c.current||(c.current=!0,o.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,o.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[a?e:n,(0,x.useEvent)(e=>(a||(0,f.flushSync)(()=>r(e)),null==t?void 0:t(e)))]}(r,c,y),N=eb({id:s,__demoMode:v}),E=(0,i.useRef)({static:!1,hold:!1}),O=(0,i.useRef)(new Map),C=function(e=function(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}){return(0,i.useCallback)((t,s)=>"string"==typeof e?(null==t?void 0:t[e])===(null==s?void 0:s[e]):e(t,s),[e])}(d),P=(0,i.useCallback)(e=>(0,J.match)(k.mode,{[ed.Multi]:()=>S.some(t=>C(t,e)),[ed.Single]:()=>C(S,e)}),[S]),k=(0,R.useSlot)({value:S,disabled:p,invalid:u,mode:h?ed.Multi:ed.Single,orientation:m?"horizontal":"vertical",onChange:A,compare:C,isSelected:P,optionsPropsRef:E,listRef:O});(0,w.useIsoMorphicEffect)(()=>{N.state.dataRef.current=k},[k]);let F=(0,G.useSlice)(N,e=>e.listboxState),M=W.stackMachines.get(null),B=(0,G.useSlice)(M,(0,i.useCallback)(e=>M.selectors.isTop(e,s),[M,s])),[z,V]=(0,G.useSlice)(N,e=>[e.buttonElement,e.optionsElement]);(0,j.useOutsideClick)(B,[z,V],(e,t)=>{N.send({type:ep.CloseListbox}),(0,X.isFocusableElement)(t,X.FocusableMode.Loose)||(e.preventDefault(),null==z||z.focus())});let K=(0,R.useSlot)({open:F===ec.Open,disabled:p,invalid:u,value:S}),[H,Q]=(0,en.useLabels)({inherit:!0}),_=(0,i.useCallback)(()=>{if(void 0!==y)return null==A?void 0:A(y)},[A,y]),q=(0,D.useRender)();return i.default.createElement(Q,{value:H,props:{htmlFor:null==z?void 0:z.id},slot:{open:F===ec.Open,disabled:p}},i.default.createElement(T.FloatingProvider,null,i.default.createElement(ev.Provider,{value:N},i.default.createElement(ey.Provider,{value:k},i.default.createElement($.OpenClosedProvider,{value:(0,J.match)(F,{[ec.Open]:$.State.Open,[ec.Closed]:$.State.Closed})},null!=l&&null!=S&&i.default.createElement(U,{disabled:p,data:{[l]:S},form:o,onReset:_}),q({ourProps:{ref:b},theirProps:g,slot:K,defaultTag:eS,name:"Listbox"}))))))}),eO=(0,D.forwardRefWithAs)(function(e,t){let s=(0,i.useId)(),n=(0,_.useProvidedId)(),r=ew("Listbox.Button"),a=eg("Listbox.Button"),{id:o=n||`headlessui-listbox-button-${s}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...d}=e,u=(0,I.useSyncRefs)(t,(0,T.useFloatingReference)(),a.actions.setButtonElement),v=(0,T.useFloatingReferenceProps)(),[g,y,w]=(0,G.useSlice)(a,e=>[e.listboxState,e.buttonElement,e.optionsElement]),S=g===ec.Open;(0,E.useQuickRelease)(S,{trigger:y,action:(0,i.useCallback)(e=>{if(null!=y&&y.contains(e.target))return E.Action.Ignore;let t=e.target.closest('[role="option"]:not([data-disabled])');return Z.isHTMLElement(t)?E.Action.Select(t):null!=w&&w.contains(e.target)?E.Action.Ignore:E.Action.Close},[y,w]),close:a.actions.closeListbox,select:a.actions.selectActiveOption});let A=(0,x.useEvent)(e=>{switch(e.key){case es.Keys.Enter:!function(e){var t,s;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n){for(let t of n.elements)if(t!==e&&("INPUT"===t.tagName&&"submit"===t.type||"BUTTON"===t.tagName&&"submit"===t.type||"INPUT"===t.nodeName&&"image"===t.type))return void t.click();null==(s=n.requestSubmit)||s.call(n)}}(e.currentTarget);break;case es.Keys.Space:case es.Keys.ArrowDown:e.preventDefault(),a.actions.openListbox({focus:r.value?q.Focus.Nothing:q.Focus.First});break;case es.Keys.ArrowUp:e.preventDefault(),a.actions.openListbox({focus:r.value?q.Focus.Nothing:q.Focus.Last})}}),j=(0,x.useEvent)(e=>{e.key===es.Keys.Space&&e.preventDefault()}),N=(0,b.useHandleToggle)(e=>{var t;a.state.listboxState===ec.Open?((0,f.flushSync)(()=>a.actions.closeListbox()),null==(t=a.state.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),a.actions.openListbox({focus:q.Focus.Nothing}))}),C=(0,x.useEvent)(e=>e.preventDefault()),P=(0,en.useLabelledBy)([o]),k=(0,et.useDescribedBy)(),{isFocusVisible:F,focusProps:L}=(0,p.useFocusRing)({autoFocus:c}),{isHovered:M,hoverProps:B}=(0,m.useHover)({isDisabled:l}),{pressed:z,pressProps:V}=(0,h.useActivePress)({disabled:l}),K=(0,R.useSlot)({open:g===ec.Open,active:z||g===ec.Open,disabled:l,invalid:r.invalid,value:r.value,hover:M,focus:F,autofocus:c}),U=(0,G.useSlice)(a,e=>e.listboxState===ec.Open),H=(0,D.mergeProps)(v(),{ref:u,id:o,type:(0,O.useResolveButtonType)(e,y),"aria-haspopup":"listbox","aria-controls":null==w?void 0:w.id,"aria-expanded":U,"aria-labelledby":P,"aria-describedby":k,disabled:l||void 0,autoFocus:c,onKeyDown:A,onKeyUp:j,onKeyPress:C},N,L,B,V);return(0,D.useRender)()({ourProps:H,theirProps:d,slot:K,defaultTag:"button",name:"Listbox.Button"})}),eC=en.Label,eR=(0,D.forwardRefWithAs)(function(e,t){let s=(0,i.useId)(),{id:n=`headlessui-listbox-options-${s}`,anchor:r,portal:a=!1,modal:o=!0,transition:l=!1,...c}=e,d=(0,T.useResolvedAnchor)(r),[u,p]=(0,i.useState)(null);d&&(a=!0);let m=ew("Listbox.Options"),h=eg("Listbox.Options"),[b,w,S,j]=(0,G.useSlice)(h,e=>[e.listboxState,e.buttonElement,e.optionsElement,e.__demoMode]),E=(0,N.useOwnerDocument)(w),O=(0,N.useOwnerDocument)(S),P=(0,$.useOpenClosed)(),[k,L]=(0,F.useTransition)(l,u,null!==P?(P&$.State.Open)===$.State.Open:b===ec.Open);(0,A.useOnDisappear)(k,w,h.actions.closeListbox);let M=!j&&o&&b===ec.Open;(0,C.useScrollLock)(M,O);let B=!j&&o&&b===ec.Open;(0,y.useInertOthers)(B,{allowed:(0,i.useCallback)(()=>[w,S],[w,S])});let z=!(0,G.useSlice)(h,h.selectors.didButtonMove)&&k,V=Q((0,G.useSlice)(h,h.selectors.hasFrozenValue)&&!e.static,m.value),K=(0,i.useCallback)(e=>m.compare(V,e),[m.compare,V]),U=(0,G.useSlice)(h,e=>{var t;if(null==d||!(null!=(t=null==d?void 0:d.to)&&t.includes("selection")))return null;let s=e.options.findIndex(e=>K(e.dataRef.current.value));return -1===s&&(s=0),s}),H=(()=>{if(null==d)return;if(null===U)return{...d,inner:void 0};let e=Array.from(m.listRef.current.values());return{...d,inner:{listRef:{current:e},index:U}}})(),[_,W]=(0,T.useFloatingPanel)(H),Y=(0,T.useFloatingPanelProps)(),Z=(0,I.useSyncRefs)(t,d?_:null,h.actions.setOptionsElement,p),et=(0,v.useDisposables)();(0,i.useEffect)(()=>{S&&b===ec.Open&&((0,ee.isActiveElement)(S)||null==S||S.focus({preventScroll:!0}))},[b,S]);let en=(0,x.useEvent)(e=>{var t;switch(et.dispose(),e.key){case es.Keys.Space:if(""!==h.state.searchQuery)return e.preventDefault(),e.stopPropagation(),h.actions.search(e.key);case es.Keys.Enter:e.preventDefault(),e.stopPropagation(),h.actions.selectActiveOption();break;case(0,J.match)(m.orientation,{vertical:es.Keys.ArrowDown,horizontal:es.Keys.ArrowRight}):return e.preventDefault(),e.stopPropagation(),h.actions.goToOption({focus:q.Focus.Next});case(0,J.match)(m.orientation,{vertical:es.Keys.ArrowUp,horizontal:es.Keys.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),h.actions.goToOption({focus:q.Focus.Previous});case es.Keys.Home:case es.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),h.actions.goToOption({focus:q.Focus.First});case es.Keys.End:case es.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),h.actions.goToOption({focus:q.Focus.Last});case es.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,f.flushSync)(()=>h.actions.closeListbox()),null==(t=h.state.buttonElement)||t.focus({preventScroll:!0});return;case es.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,f.flushSync)(()=>h.actions.closeListbox()),(0,X.focusFrom)(h.state.buttonElement,e.shiftKey?X.Focus.Previous:X.Focus.Next);break;default:1===e.key.length&&(h.actions.search(e.key),et.setTimeout(()=>h.actions.clearSearch(),350))}}),ea=(0,G.useSlice)(h,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),eo=(0,R.useSlot)({open:b===ec.Open}),ei=(0,D.mergeProps)(d?Y():{},{id:n,ref:Z,"aria-activedescendant":(0,G.useSlice)(h,h.selectors.activeDescendantId),"aria-multiselectable":m.mode===ed.Multi||void 0,"aria-labelledby":ea,"aria-orientation":m.orientation,onKeyDown:en,role:"listbox",tabIndex:b===ec.Open?0:void 0,style:{...c.style,...W,"--button-width":(0,g.useElementSize)(k,w,!0).width},...(0,F.transitionDataAttributes)(L)}),el=(0,D.useRender)(),eu=(0,i.useMemo)(()=>m.mode===ed.Multi?m:{...m,isSelected:K},[m,K]);return i.default.createElement(er.Portal,{enabled:!!a&&(e.static||k),ownerDocument:E},i.default.createElement(ey.Provider,{value:eu},el({ourProps:ei,theirProps:c,slot:eo,defaultTag:"div",features:ej,visible:z,name:"Listbox.Options"})))}),eI=(0,D.forwardRefWithAs)(function(e,t){let s=(0,i.useId)(),{id:n=`headlessui-listbox-option-${s}`,disabled:r=!1,value:a,...o}=e,l=!0===(0,i.useContext)(eA),c=ew("Listbox.Option"),d=eg("Listbox.Option"),u=(0,G.useSlice)(d,e=>d.selectors.isActive(e,n)),p=c.isSelected(a),m=(0,i.useRef)(null),f=(0,P.useTextValue)(m),h=(0,S.useLatestValue)({disabled:r,value:a,domRef:m,get textValue(){return f()}}),v=(0,I.useSyncRefs)(t,m,e=>{e?c.listRef.current.set(n,e):c.listRef.current.delete(n)}),g=(0,G.useSlice)(d,e=>d.selectors.shouldScrollIntoView(e,n));(0,w.useIsoMorphicEffect)(()=>{if(g)return(0,Y.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[g,m]),(0,w.useIsoMorphicEffect)(()=>{if(!l)return d.actions.registerOption(n,h),()=>d.actions.unregisterOption(n)},[h,n,l]);let b=(0,x.useEvent)(e=>{if(r)return e.preventDefault();d.actions.selectOption(a)}),y=(0,x.useEvent)(()=>{if(r)return d.actions.goToOption({focus:q.Focus.Nothing});d.actions.goToOption({focus:q.Focus.Specific,id:n})}),A=(0,k.useTrackedPointer)(),j=(0,x.useEvent)(e=>A.update(e)),N=(0,x.useEvent)(e=>{A.wasMoved(e)&&(r||u&&d.state.activationTrigger===eu.Pointer||d.actions.goToOption({focus:q.Focus.Specific,id:n},eu.Pointer))}),E=(0,x.useEvent)(e=>{A.wasMoved(e)&&(r||u&&d.state.activationTrigger===eu.Pointer&&d.actions.goToOption({focus:q.Focus.Nothing}))}),O=(0,R.useSlot)({active:u,focus:u,selected:p,disabled:r,selectedOption:p&&l}),C=l?{}:{id:n,ref:v,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:y,onPointerEnter:j,onMouseEnter:j,onPointerMove:N,onMouseMove:N,onPointerLeave:E,onMouseLeave:E},F=(0,D.useRender)();return!p&&l?null:F({ourProps:C,theirProps:o,slot:O,defaultTag:"div",name:"Listbox.Option"})}),eP=Object.assign(eE,{Button:eO,Label:eC,Options:eR,Option:eI,SelectedOption:(0,D.forwardRefWithAs)(function(e,t){let{options:s,placeholder:n,...r}=e,a={ref:(0,I.useSyncRefs)(t)},o=ew("ListboxSelectedOption"),l=(0,R.useSlot)({}),c=void 0===o.value||null===o.value||o.mode===ed.Multi&&Array.isArray(o.value)&&0===o.value.length,d=(0,D.useRender)();return i.default.createElement(eA.Provider,{value:!0},d({ourProps:a,theirProps:{...r,children:i.default.createElement(i.default.Fragment,null,n&&c?n:s)},slot:l,defaultTag:eN,name:"ListboxSelectedOption"}))})}),ek=[{value:"gt",label:">="},{value:"lt",label:"<="},{value:"eq",label:"="}],eF=({selectedCategories:e,onCategoryChange:t,selectedSubCategories:s,onSubCategoryChange:n,selectedIndustry:r,onIndustryChange:a,selectedServices:c,onServicesChange:p,selectScoreOperator:m,onScoreOperatorChange:f,selectScoreValue:h,onScoreValueChange:x})=>{let{t:v}=(0,l.useTranslation)(),[g,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>{"score"!==e.detail&&b(!1)};return window.addEventListener("filter-dropdown-open",e),()=>window.removeEventListener("filter-dropdown-open",e)},[]);let y=Array.from(new Set(u.default.map(e=>e.category).filter(Boolean))),w=Array.from(new Set(u.default.map(e=>e.subCategory).filter(Boolean))),S=Array.from(new Set(u.default.map(e=>e.industry).filter(Boolean))),A=Array.from(new Set(u.default.flatMap(e=>e.services??[]).filter(Boolean)));return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("p",{className:"font-semibold mb-2",children:v("company-page.title")}),(0,o.jsx)(d,{type:"category",selected:e,onChange:t,options:y,placeholder:"Search category..."}),(0,o.jsx)("div",{className:"mt-4"}),(0,o.jsx)(d,{type:"subCategory",selected:s,onChange:n,options:w,placeholder:"Search sub category..."}),(0,o.jsx)("div",{className:"mt-4"}),(0,o.jsx)(d,{type:"industry",selected:r,onChange:a,options:S,placeholder:"Search industry..."}),(0,o.jsx)("div",{className:"mt-4"}),(0,o.jsx)(d,{type:"services",selected:c,onChange:p,options:A,placeholder:"Search services..."}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("p",{className:"mb-2 block text-[var(--text-primary-color)]",children:v("company-page.filter.average-score")}),(0,o.jsxs)("div",{className:"flex gap-3 items-center w-full",children:[(0,o.jsx)(eP,{value:m,onChange:f,children:()=>(0,o.jsxs)("div",{className:"relative w-16 flex justify-center items-center",children:[(0,o.jsx)(eO,{onClick:()=>{b(!g),window.dispatchEvent(new CustomEvent("filter-dropdown-open",{detail:"score"}))},className:"flex  items-center w-full rounded-lg border border-zinc-300 px-3 py-2 text-sm text-[var(--text-primary-color)] bg-white text-left focus:outline-none focus:ring-2 focus:ring-[var(--primary-300)]",children:ek.find(e=>e.value===m)?.label}),(0,o.jsx)(er.Portal,{children:(0,o.jsx)(eR,{modal:!1,anchor:"bottom start",className:"absolute mt-1 w-36 bg-white border rounded-md shadow-md max-h-40 overflow-y-auto z-50",children:ek.map(e=>(0,o.jsxs)(eI,{value:e.value,className:({selected:e})=>`
                          px-3 py-2 text-sm cursor-pointer
                          ${e?"bg-[var(--primary-100)] text-[var(--primary)]":"text-[var(--text-primary-color)]"}
                        `,children:[e.label," (",v(`company-page.filter.${e.value}`),")"]},e.value))})})]})}),(0,o.jsx)("input",{type:"range",min:"1",max:"5",step:"0.1",value:h,onChange:e=>x(Number(e.target.value)),className:"w-full accent-[var(--primary)] cursor-pointer "}),(0,o.jsx)("span",{className:"w-12 text-center text-[var(--primary-700)]   bg-[var(--primary-100)] px-3 py-1 rounded-full text-sm",children:Number(h??0).toFixed(1)})]})]}),(0,o.jsx)("button",{onClick:()=>{t([]),n([]),a([]),p([]),f("gt"),x(1)},className:"text-sm mt-4 cursor-pointer text-white bg-[var(--primary)] flex justify-self-end rounded-lg hover:bg-[var(--primary-300)]  px-2 py-1 rounded transition",children:v("company-page.filter.reset-filters")})]})},eL=i.forwardRef(function({title:e,titleId:t,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}),eT=i.forwardRef(function({title:e,titleId:t,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),eM=i.forwardRef(function({title:e,titleId:t,...s},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}),eD=({show:e,onClose:t,loading:s,details:n})=>{let{t:r}=(0,l.useTranslation)(),[a,d]=(0,i.useState)(e);(0,i.useEffect)(()=>{e&&d(!0)},[e]);let u=()=>{d(!1),setTimeout(()=>t(),200)};return e||a?(0,o.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:[(0,o.jsx)("div",{className:`absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:u}),(0,o.jsxs)("div",{className:`relative bg-white/90 backdrop-blur-lg min-h-[460px] rounded-2xl w-full max-w-2xl p-6 sm:p-8 shadow-2xl border border-white/20
          transform transition-all duration-300
          ${a?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[(0,o.jsx)("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition-colors text-lg","aria-label":"Close modal",children:(0,o.jsx)(c.XMarkIcon,{className:"w-7 h-7 cursor-pointer"})}),s?(0,o.jsxs)("div",{className:"flex flex-col justify-between h-full animate-pulse",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"h-10 bg-gray-300 rounded w-3/4"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,o.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,o.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),(0,o.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/3"}),(0,o.jsx)("div",{className:"h-3 bg-gray-300 rounded w-2/3"}),(0,o.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/4"})]}),(0,o.jsx)("div",{className:"h-8 w-32 bg-gray-300 rounded mt-4 self-start"})]}):n?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h2",{className:"font-extrabold text-3xl sm:text-4xl text-gray-900",children:n.name}),(0,o.jsx)("p",{className:"text-gray-600 text-base sm:text-lg",children:n.description}),(0,o.jsxs)("div",{className:"text-gray-700 space-y-2 text-sm sm:text-base",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.category")})," ",n.category," ",n.subCategory&&`â€¢ ${n.subCategory}`]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.industry")})," ",n.industry]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.companySize")})," ",n.companySize]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.averageScore")})," ",n.averageScore," (",n.reviewCount,")"]}),n.services&&n.services.length>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.services")})," ",n.services.join(", ")]}),n.supportedCountries&&(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.supportedCountries")})," ",n.supportedCountries.join(", ")]}),n.currencies&&(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-semibold",children:r("company-page.company-modal.currencies")})," ",n.currencies.join(", ")]})]}),n.website&&(0,o.jsxs)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 text-blue-600 font-medium hover:text-blue-700 hover:underline transition-colors",children:[(0,o.jsx)(eL,{className:"w-5 h-5"}),r("company-page.company-list.visit-website")]})]}):(0,o.jsx)("p",{className:"text-center text-gray-500 py-12 text-lg font-medium",children:r("company-page.company-modal.no-data")})]})]}):null},eB=({logo:e,name:t})=>(0,o.jsxs)("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center relative",children:[(0,o.jsx)("img",{src:e,alt:t,className:"absolute inset-0 w-full h-full object-contain",onError:e=>{e.currentTarget.style.display="none"}}),(0,o.jsx)(eM,{className:"w-8 h-8 text-gray-400 z-10"})]}),ez=({company:e})=>{let{t}=(0,l.useTranslation)(),[s,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),u=async()=>{d(!0);try{console.log("Fetching company id:",e.id);let t=await fetch(`/api/companies/${e.id}`);if(!t.ok)throw Error("Failed to fetch details");let s=await t.json();await new Promise(e=>setTimeout(e,1e3)),a(s)}catch(e){console.error(e)}finally{d(!1)}};return(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-lg transition-shadow p-4",children:[(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:(0,o.jsx)(eB,{logo:e.logo,name:e.name})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h2",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:[e.category," ",e.subCategory&&`â€¢ ${e.subCategory}`]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1 hidden sm:block ",children:e.description})]})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2 sm:hidden",children:e.description}),(0,o.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[e.averageScore&&(0,o.jsxs)("span",{className:"bg-[var(--yellow-theme-100)] text-yellow-800 text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1",children:["â­ ",e.averageScore," (",e.reviewCount||0,")"]}),e.companySize&&(0,o.jsxs)("span",{className:"bg-[var(--blue-theme-100)] text-[var(--blue-theme-600)] text-xs font-medium px-2 py-1 rounded-full",children:["ðŸ‘¤ ",e.companySize]}),e.industry&&(0,o.jsx)("span",{className:"bg-[var(--orenge-theme-100)] text-[var(--orenge-theme-600)] text-xs font-medium px-2 py-1 rounded-full",children:e.industry})]}),e.services&&e.services.length>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.services.map((e,t)=>(0,o.jsx)("span",{className:"bg-[var(--green-theme-100)] text-[var(--green-theme-600)] text-xs px-2 py-1 rounded-full",children:e},t))}),(0,o.jsxs)("div",{className:"flex items-center mt-3  gap-2",children:[e.website&&(0,o.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:" text-sm w-fit text-blue-600 hover:underline flex items-center gap-1",children:[(0,o.jsx)(eL,{className:"w-4 h-4"}),t("company-page.company-list.visit-website")]}),(0,o.jsxs)("button",{onClick:()=>{n(!0),u()},className:"px-2 py-1 text-sm text-blue-600 rounded transition flex items-center gap-1 cursor-pointer",children:[(0,o.jsx)(eT,{className:"w-4 h-4"}),t("company-page.company-list.more")]})]}),(0,o.jsx)(eD,{show:s,onClose:()=>n(!1),loading:c,details:r})]})};var eV=e.i(57688);let eK={src:e.i(18267).default,width:128,height:128,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR42gEIAff+AAAAAAAAAAAAAAAAABMcHB5JZGNtBQ4PEQAAAAAAAAAAAAAAAAAAAAAAAAAAAA8XFxs5U1JdCyMmMAABAQEAAAAAAAAAAAAICgoJHy0sMihBQUozSUpMLzw9PAsMCwkBAQEAABIVFRN4kYyZlsG75IKwqtG3z8vQ0uXi45ikopoXGBgTAAwODguNqKOvisi9/me0p/6139f+0u/q/aW2s64ODw8LAB0fHhmxwb++4Pj0/8Dm3//C5+H/2vXw/6W7uL4dHx4ZAAEBAQFaa2hzwOHb9bTf1/9suKr/Y6+i9ilRSnQBAQEBAAAAAAATFhYWRVJQVG+NiJw7cmifHD44WAgRDxcAAAAAPw5XNFO7gB0AAAAASUVORK5CYII="},eU=({onClearFilter:e})=>{let{t}=(0,l.useTranslation)();return(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-2",children:[(0,o.jsx)("div",{className:"w-25 h-25 relative",children:(0,o.jsx)(eV.default,{src:eK,alt:"Empty state",fill:!0,style:{objectFit:"contain"}})}),(0,o.jsx)("p",{className:"text-lg text-gray-500",children:t("empty-page.title")}),(0,o.jsx)("button",{onClick:e,className:"text-sm rounded-lg mt-4 cursor-pointer text-white bg-[var(--primary)] hover:bg-[var(--primary-300)]  px-2 py-1 rounded transition",children:t("empty-page.btn-clear-search-filters")})]})},eH=()=>(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow animate-pulse p-4",children:[(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"}),(0,o.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,o.jsx)("div",{className:"h-5 bg-gray-300 rounded w-3/4"}),(0,o.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,o.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full hidden sm:block"})]})]}),(0,o.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mt-2 sm:hidden"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded-full w-12"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded-full w-16"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded-full w-10"})]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded-full w-16"}),(0,o.jsx)("div",{className:"h-4 bg-gray-300 rounded-full w-20"})]}),(0,o.jsx)("div",{className:"h-3 bg-gray-200 rounded w-24 mt-3"})]}),eQ=({companies:e,isLoading:t=!1,onClearFilter:s})=>t?(0,o.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:6}).map((e,t)=>(0,o.jsx)(eH,{},t))}):e.length?(0,o.jsx)("div",{className:"flex flex-col gap-4",children:e.map(e=>(0,o.jsx)(ez,{company:e},e.id))}):(0,o.jsx)(eU,{onClearFilter:s}),e_=({currentPage:e,totalPages:t,onPageChange:s,maxPagesToShow:n=5})=>{if(t<=1)return null;let r=[],a=Math.max(1,e-Math.floor(n/2)),i=a+n-1;i>t&&(a=Math.max(1,(i=t)-n+1));for(let e=a;e<=i;e++)r.push(e);let l=a>2,c=i<t-1,d="w-7 h-7 flex items-center justify-center rounded border border-[var(--primary)] text-[var(--primary)]",u="bg-[var(--primary)] text-white";return(0,o.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4 flex-wrap",children:[(0,o.jsx)("button",{onClick:()=>s(Math.max(1,e-1)),disabled:1===e,className:`${d} disabled:border-zinc-200 disabled:bg-white disabled:text-zinc-200  hover:bg-[var(--primary-100)]`,children:"<"}),a>1&&(0,o.jsx)("button",{onClick:()=>s(1),className:`${d} ${1===e?u:"bg-white text-[var(--primary)] hover:bg-[var(--primary-100)]"}`,children:"1"}),l&&(0,o.jsx)("span",{className:"px-2 text-[var(--primary)]",children:"..."}),r.map(t=>"..."!==t&&(0,o.jsx)("button",{onClick:()=>s(t),className:`${d} ${e===t?u:"bg-white text-[var(--primary)] hover:bg-[var(--primary-100)]"}`,children:t},t)),c&&(0,o.jsx)("span",{className:"px-2 text-[var(--primary)]",children:"..."}),i<t&&(0,o.jsx)("button",{onClick:()=>s(t),className:`${d} ${e===t?u:"bg-white text-[var(--primary)]"}`,children:t}),(0,o.jsx)("button",{onClick:()=>s(Math.min(t,e+1)),disabled:e===t,className:`${d} disabled:border-zinc-200 disabled:bg-white disabled:text-zinc-200 hover:bg-[var(--primary-100)]`,children:">"})]})},e$={src:e.i(62006).default,width:512,height:512,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA4ElEQVR42kVPW4/BYBD92q+7SttP3ZrsPths3epSSinqLlqKEJF4IhGCxIP//+gbl5hkkjlzzuScQehVDGa5QOq/Eh139lGvd5SM3IDlfcKbR3z8V4s47V0g+WfAHO43NqSqu69zhpGblYWgJSxAsPL9KGpsNjh9BPZTwGDMCRm1FrRKHhWcHzz7/cXLjfIsNh9eiFlwaIaDsnJvoa61RlgUQhBIWTpX2TYXkVFrG6wbU6modUk5P0QUeH41rov5tM1JIM72qd2SmLpLbSYIkkqlbA9swA77eZEjYhga3rwDdKYfmn9uyB0AAAAASUVORK5CYII="},eW=({onRetry:e})=>{let{t}=(0,l.useTranslation)();return(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-2",children:[(0,o.jsx)("div",{className:"w-25 h-25 relative",children:(0,o.jsx)(eV.default,{src:e$,alt:"Error state",fill:!0,style:{objectFit:"contain"}})}),(0,o.jsx)("h2",{className:"text-lg text-gray-500",children:t("error-page.title")}),(0,o.jsx)("button",{onClick:e,className:"text-sm rounded-lg mt-4 cursor-pointer text-white bg-[var(--primary)] hover:bg-[var(--primary-300)]  px-2 py-1 rounded transition",children:t("error-page.btn-retry")})]})};async function eG(e){let t=new URLSearchParams({searchTerm:e.searchTerm||"",categories:(e.categories||[]).join(","),subCategories:(e.subCategories||[]).join(","),industry:(e.industry||[]).join(","),services:(e.services||[]).join(","),scoreOperator:e.scoreOperator||"gt",scoreValue:String(e.scoreValue||0)});try{let e=await fetch(`${window.location.origin}/api/companies?${t.toString()}`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let s=await e.json();if(s.error)throw Error(s.error);return s}catch(e){return{error:e.message||"Failed to fetch companies"}}}e.s(["default",0,({searchTerm:e,onClearSearch:t})=>{let{t:s}=(0,l.useTranslation)(),[n,r]=(0,i.useState)([]),[a,c]=(0,i.useState)([]),[d,u]=(0,i.useState)([]),[p,m]=(0,i.useState)([]),[f,h]=(0,i.useState)([]),[x,v]=(0,i.useState)("gt"),[g,b]=(0,i.useState)(1),[y,w]=(0,i.useState)(!1),[S,A]=(0,i.useState)(1),[j,N]=(0,i.useState)(!1),[E,O]=(0,i.useState)(""),[C,R]=(0,i.useState)(0);(0,i.useEffect)(()=>{w(!0),N(!1),O("");let t=setTimeout(async()=>{let t=await eG({searchTerm:e,categories:a,subCategories:d,industry:p,services:f,scoreOperator:x,scoreValue:g});if(t.error){N(!0),O(t.error),w(!1);return}r(t),A(1),w(!1)},300);return()=>clearTimeout(t)},[e,a.join("|"),d.join("|"),p.join("|"),f.join("|"),x,g,C]);let I=async()=>{w(!0),c([]),u([]),m([]),h([]),v("gt"),b(1),t(),await new Promise(e=>setTimeout(e,1e3)),w(!1)},P=Math.ceil(n.length/6),k=n.slice((S-1)*6,6*S);return(0,o.jsx)("section",{id:"company-review",className:"w-full bg-[var(--text-secondary-color)]",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-20",children:[(0,o.jsx)("p",{className:"font-bold text-2xl mb-6",children:s("company-page.title")}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-6",children:[(0,o.jsx)("div",{className:"lg:col-span-3 h-fit bg-white border border-gray-200 px-4 pt-4 pb-4 rounded-xl shadow",children:(0,o.jsx)(eF,{selectedCategories:a,onCategoryChange:c,selectedSubCategories:d,onSubCategoryChange:u,selectedIndustry:p,onIndustryChange:m,selectedServices:f,onServicesChange:h,selectScoreOperator:x,onScoreOperatorChange:v,selectScoreValue:g,onScoreValueChange:b})}),(0,o.jsx)("div",{className:"lg:col-span-7 bg-white md:px-4 rounded min-h-[720px] flex flex-col",children:j?(0,o.jsx)(eW,{onRetry:()=>{N(!1),w(!0),r([]),R(e=>e+1)},message:E}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eQ,{companies:k,isLoading:y,onClearFilter:I}),(0,o.jsx)(e_,{currentPage:S,totalPages:P,onPageChange:e=>A(e)})]})})]})]})})}],4287)},75413,e=>{e.n(e.i(4287))}]);